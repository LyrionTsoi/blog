---
title: 数据分析方法实验六
date: 2023-06-02 11:19:07
tags:
---

### 三、实验步骤

1. 数据集获取：从https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data下载数据集。
2. 数据预处理：使用pandas库读取数据集，删除id列，将缺失值替换为0，将bare_nuclei列转换为整数类型。
3. 数据集划分：使用train_test_split函数将数据集划分为训练集和测试集。
4. 模型训练：使用DecisionTreeClassifier类训练决策树模型。
5. 模型预测：使用predict函数对测试集进行预测。
6. 准确率计算：使用accuracy_score函数计算准确率。

#### 思考过程

1. 数据集的获取：在进行实验之前，需要先确定使用哪个数据集。在这个案例中，我们选择了UCI机器学习库中的乳腺癌数据集。这个数据集包含了乳腺癌细胞的一些特征，以及它们是良性还是恶性的标签。我们可以从UCI机器学习库的网站上下载这个数据集。
2. 数据预处理：在获取数据集之后，我们需要对数据进行预处理。这个数据集中有一些缺失值，我们需要将它们替换为0。另外，数据集中还有一个id列，这个列对于分类预测没有用处，我们需要将它删除。最后，我们需要将bare_nuclei列转换为整数类型，以便于后续的处理。
3. 数据集划分：在对数据进行预处理之后，我们需要将数据集划分为训练集和测试集。这个步骤非常重要，因为我们需要使用测试集来评估模型的性能。在这个案例中，我们将数据集划分为80%的训练集和20%的测试集。
4. 模型训练：在对数据集进行划分之后，我们需要使用训练集来训练模型。在这个案例中，我们使用了决策树模型。决策树是一种非常常用的分类模型，它可以根据数据集中的特征来预测标签。在这个案例中，我们使用了scikit-learn库中的DecisionTreeClassifier类来训练决策树模型。
5. 模型预测：在训练模型之后，我们需要使用测试集来测试模型的性能。在这个案例中，我们使用predict函数对测试集进行预测。
6. 准确率计算：最后，我们需要计算模型的准确率。准确率是指模型预测正确的样本数占总样本数的比例。在这个案例中，我们使用了accuracy_score函数来计算准确率。

#### 实验代码

```python
import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.tree import DecisionTreeClassifier
from sklearn.metrics import accuracy_score

# 读取数据集
url = "https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data"
names = ['id', 'clump_thickness', 'uniformity_cell_size', 'uniformity_cell_shape', 'marginal_adhesion',
         'single_epithelial_cell_size', 'bare_nuclei', 'bland_chromatin', 'normal_nucleoli', 'mitoses', 'class']
dataset = pd.read_csv(url, names=names)

# 数据预处理
dataset = dataset.drop(['id'], axis=1)
dataset = dataset.replace('?', 0)
dataset['bare_nuclei'] = dataset['bare_nuclei'].astype('int64')
X = dataset.iloc[:, :-1]
y = dataset.iloc[:, -1]

# 划分训练集和测试集
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42)

# 训练模型
model = DecisionTreeClassifier()
model.fit(X_train, y_train)

# 预测测试集
y_pred = model.predict(X_test)

# 计算准确率
accuracy = accuracy_score(y_test, y_pred)
print("Accuracy:", accuracy)

```

**实验结果**

![](https://124newblog-1309411887.cos.ap-nanjing.myqcloud.com/images/202306021132027.png)
